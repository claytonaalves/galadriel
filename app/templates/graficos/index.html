{% extends "layout.html" %}

{% block head %}
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
{% endblock %}

{% block body %}

    <div class="row">
        <div class="col m6">
            <div id="piechart" style="width: 800px; height: 600px;"></div>
        </div>
        <div class="col m6">
            <div id="piechart2" style="width: 800px; height: 600px;"></div>
        </div>
    </div>

    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        {% autoescape false %}
        var data = google.visualization.arrayToDataTable({{ dataset1 }});
        var data2 = google.visualization.arrayToDataTable({{ dataset2 }});
        {% endautoescape %}

        var options = {
           title: 'Tipos de Empresa (Grupos com mais de 4 empresas)'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);

        var chart = new google.visualization.PieChart(document.getElementById('piechart2'));
        chart.draw(data2, {
           title: 'Tipos de Empresa (Grupos com menos de 5 empresas)'
        });
      }
    </script>


{% endblock %}
